Mov-r2-#3#!
<INIZIO>
Mov-r1-#127#!
Add-r1-r1-r1!
Add-r1-r1-r1!
Add-r1-r1-r1!
Add-r1-r1-r1!
Add-r1-r1-r1!
Add-r1-r1-r1!
Add-r1-r1-r1!
Mov-r0-#126#!
Add-r1-r1-r0!
<ATTESA_LETTURA>
Ldr-r0-r1!
And-r0-r0-#2#!
Cmp-r0-#0#!
Beq-(ATTESA_LETTURA)!
Mov-r3-#0#!
Str-r3-r1!
Add-r1-r1-#1#!
Ldr-r3-r1!
Add-r1-r1-#-3#!
Str-r3-r1!
Add-r1-r1-#-1#!
Mov-r3-#4#!
Str-r3-r1!
<ATTESA_SCRITTURA>
Ldr-r0-r1!
And-r0-r0-#4#!
Cmp-r0-#0#!
Beq-(ATTESA_SCRITTURA)!
Add-r2-r2-#-1#!
mov-r0-#0#!
Cmp-r2-r0!
Brg-(INIZIO)!